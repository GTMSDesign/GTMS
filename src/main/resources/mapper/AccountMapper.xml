<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.nju.edu.gtms.dao.AccountDao">

    <select id="findByAccountAndPassword" resultMap="AccountPO">
        select * from accounts where account =#{account} and password =#{password}
    </select>
    <select id="findByAccount" resultMap="AccountPO">
        select * from accounts where account =#{account}
    </select>
    <select id="getUnenteredStudents" resultMap="AccountPO">
        select a.account, a.name, a.power
        from accounts a
        left join students s on a.account=s.student_id
        where s.student_id is null and a.power = 'student'
    </select>
    <!-- 结果映射配置 -->
    <resultMap id="AccountPO" type="com.nju.edu.gtms.model.po.AccountPO">
        <id column="account" property="account" />
        <result column="password" property="password" />
        <result column="name" property="name" />
        <result column="power" property="power" />
    </resultMap>

</mapper>
